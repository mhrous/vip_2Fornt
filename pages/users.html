<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>المستخدمين</title>

    <link
      rel="stylesheet"
      href="../assets/vendor/dataTables/css/dataTables.bootstrap4.min.css"
    />
    <link
      rel="stylesheet"
      href="../assets/vendor/bootstrap-sweetalert/css/bootstrap-sweetalert.min.css"
    />
    <link rel="stylesheet" href="../assets/vendor/nucleo/css/nucleo.css" />
    <link href="../assets/vendor/argon/css/argon.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/css/vip.css" />
  </head>

  <body>
    <main class="d-flex  vh-100 ">
      <div
        id="sidebar"
        class="sidebar--content p-4 bg-gradient-default d-flex flex-column justify-content-between"
      >
        <ul class="nav flex-column  text-right p-0"></ul>

        <div
          class="icon btn-icon-sidebar-none icon-shape "
        >
          <i class="ni ni-fat-delete"></i>
        </div>
        <div class="sidebar--footer">
          <button
            id="log-out-btn"
            type="button"
            class="btn btn-primary btn-block "
          >
            تسجيل الخروج
          </button>
        </div>
      </div>

      <div class="icon none  btn-icon-sidebar-on ">
        <i class="ni ni-fat-add"></i>
      </div>

      <div id="content" style="overflow-y:auto ;" class=" flex-grow-1 p-4">
        <!-- Tabs with icons -->

        <div id="all-users">
          <table
            id="all-users-table"
            class="table table-striped table-bordered"
            cellspacing="0"
            width="100%"
          >
            <thead>
              <tr>
                <th>الاسم</th>
                <th>الهاتف</th>
                <th>العنوان</th>
                <th>النوع</th>
                <th>كلمة السر</th>
                <th></th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div>
          <button id="new-user" class="btn btn-primary ">
            مستخدم جديد
          </button>
        </div>

        <div id="user-modal">
          <!-- Modal -->
          <div class="modal fade" id="modal" role="dialog">
            <div class="modal-dialog modal-dialog-scrollable">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">
                    {{ H_.title }}
                  </h5>
                  <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="form-group row has-danger mb-3">
                    <div class="input-group input-group-alternative">
                      <input
                        @keyup.enter="ok"
                        placeholder="اسم  "
                        type="text"
                        class="form-control"
                        v-model="name"
                      />
                    </div>
                  </div>
                  <div class="form-group row has-danger mb-3">
                    <div class="input-group input-group-alternative">
                      <input
                        @keyup.enter="ok"
                        placeholder=" عنوان  "
                        type="text"
                        class="form-control"
                        v-model="address"
                      />
                    </div>
                  </div>
                  <div class="form-group has-danger row mb-3">
                    <div class=" input-group input-group-alternative">
                      <select
                        v-model="power"
                        class="form-control form-control-lg"
                      >
                        <option value="s_admin">مشرف</option>
                        <option value="S">سكرتيرة</option>
                        <option value="P">شريك</option>
                        <option value="D">سائق</option>
                      </select>
                    </div>
                  </div>
                  <div
                    v-for="(p, index) in phone"
                    class="form-group has-danger row mb-3"
                  >
                    <div
                      :class="index==0? 'col-6':'col-5'"
                      class=" input-group input-group-alternative"
                    >
                      <input
                        @keyup.enter="ok"
                        placeholder=" النوع"
                        type="text"
                        class="form-control"
                        v-model="p.phoneType"
                        :disabled="index==0"
                      />
                    </div>
                    <div
                      :class="index==0? 'col-6':'col-5'"
                      class=" input-group input-group-alternative"
                    >
                      <input
                        @keyup.enter="ok"
                        placeholder="الرقم"
                        type="text"
                        class="form-control"
                        v-model="p.value"
                      />
                    </div>
                    <div class="col-2" v-if="index!=0">
                      <button
                        @click="()=>removePhon(p._id)"
                        type="button"
                        class="btn btn-danger"
                      >
                        <span>&times;</span>
                      </button>
                    </div>
                  </div>
                  <div class="row">
                    <button
                      type="button"
                      class="btn btn-secondary "
                      style="margin: auto;"
                      @click="newPhone"
                    >
                      اضافة هاتف جديد
                    </button>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                  >
                    الغاء
                  </button>
                  <button type="button" class="btn btn-primary" @click="ok">
                    {{ H_.okBtnTitle }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="../assets/vendor/jquery/jquery.min.js"></script>
    <script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="../assets/vendor/bootstrap-sweetalert/js/bootstrap-sweetalert.min.js"></script>
    <script src="../assets/vendor/dataTables/js/dataTables.min.js"></script>
    <script src="../assets/vendor/dataTables/js/dataTables.bootstrap4.min.js"></script>
    <script src="../assets/vendor/vue/vue.min.js"></script>
    <script src="../assets/js/lib.js"></script>
    <script src="../assets/js/services/users.js"></script>
    <script src="../assets/js/users.js"></script>
  </body>
</html>
